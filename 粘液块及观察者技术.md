由于粘液块的神奇功用，利用粘液块已经发展成了一门专门的技术，国内玩家亲切地称之为——绿萌技术。

让我们衷心感谢粘液块代码的最初编写者和将他推荐给mojang公司的玩家——KaboPC和Panda4994。

# 第一节  综述

粘液块于1.8中被正式引入游戏。

粘液块向游戏中增加了更多电路实现的方式，增加了可玩性和趣味性。粘液块标志着可移动电路被正式引入游戏，这种电路可以在一定程度内自由改变自身的位置，从而不被局限于固定的位置，同时，由于红石线和中继器等元件无法被活塞移动，它们在粘液块技术中无法被自由使用，这掀起了一场“去红石化”浪潮。

粘液块技术被广泛应用于生存电路和机械电路中。粘液块技术在生存电路中的应用主要在于可移动电路，例如轰炸机，采矿机，排水机，弯铁轨机，造路机等。生存中大面积进行操作带来的庞大机械性正是可移动电路恰如其分的用武之地，而在物品及实体传输，信号传递等方面，粘液块带来的便利性也是不可替代的。粘液块技术在机械电路中的应用主要在于大型的活塞门和多样化的飞行器。过大的活塞门使用传统电路显得过于繁杂而不切实际，但使用飞行器构建活塞门就可以使得大型活塞门的制作称为可能。

观察者于1.11被正式引入游戏。

观察者是一种可以检测方块变化的方块，这使得其在检测方块变化上有了用武之地；而观察者作为一种可以被移动的输入元件，在电路中充当了轻便的信号源的地位；不得不提的是，观察者输出的信号是2gt的短脉冲信号，因而其又是结构简单、抗干扰能力强的短脉冲器。综合以上几点，观察者在被加入游戏后得到了广泛而又深刻的应用，其对传统电路与粘液块电路的优化和简化都起到了不可磨灭的功用。

在粘液块被引入游戏后，可移动电路诞生了，但观察者被引入游戏后，玩家Modiseus 制作出了无粘液块的可移动电路。除此之外，panda4994还曾在无粘液块及观察者的时代，通过不断的放置方块，制作出可以不断向前移动并含有特定结构的电路，并借此将特定结构推入未生成区块，从而人工生成刷怪笼。

# 第二节  粘液块的运动特性

当粘液块静止时，粘液块表现得和其他方块并无二致。但是当活塞推动粘液块时，粘液块便会表现出它的粘性，粘动毗邻的方块，包括其他粘液块一起运动。换句话说，只有粘液块能够表现出粘性，运动的粘液块可以粘动其他方块，但用运动的方块粘动粘液块是不可能的。

活塞能够推动十二个方块，当粘液块被引入运动时，活塞最多能使得十二个方块运动。如果活塞尝试推出超过十二个方块，活塞将不会推出并陷入BUD态；如果粘性活塞尝试收回超过十二个方块，粘性活塞将自己收回而留下方块不动。

活塞会使得自己即将移动的方块有一个运动趋势，而粘液块可以将这种运动趋势传递给毗邻，这样所有要运动的方块都有了运动趋势，也就有了一个即将到达的位置，这个位置被称为运动趋势位，趋势位也是一种基本位置关系。如果在趋势位上存在有诸如基岩、推出的活塞等无法被移动的方块，所有的方块包括活塞将不会有动作，甚至伸出的活塞也无法收回这些方块。树叶、南瓜、西瓜、火把等方块，如果存在于运动趋势位，会在该方块开始运动时破坏，同时其也不能被粘液块所粘动。较为特殊的方块是带釉陶瓦，这是一种可以推动但无法被粘液块粘动的方块。另一种值得注意的方块是1.15加入的蜂蜜块，其具有与粘液块相似的特性，但并不与粘液块相互粘连，这允许玩家在相邻两格内使用两套粘液块电路，相信蜂蜜块也会给红石电路带来不小的创新空间。

总结而言，考察粘液块的运动特性需要先考察方块的运动反应类型，一般包括：常规型（一般可推动的方块），阻挡型（基岩、屏障、黑曜石等方块，箱子、熔炉、铁砧等方块实体），破坏型（西瓜、火把等方块及潜影盒），仅推动型（带釉陶瓦，蜂蜜块之于粘液块，粘液块之于蜂蜜块）。

粘液块的运动特性就可以被总结为：
>粘液块仅能粘动常规型方块。

*事实上，Mojang这里写的代码极度混乱，铁砧不能被推动是因为被放在了重金属材料一类中，这一类中有一个属性是不可推动。基岩的这一属性却是可推动，但推动前会检测硬度，若为-1则也不能推动。屏障虽然硬度也是-1，但属性却是不可推动。代码里明确规定了黑曜石不可推动，而蜂蜜块和粘液块会在相互运动时决定不可粘连，简直写得乱七八糟。*

粘液块推动方块产生效果等价于活塞直接推动该方块的效果，活塞能否伸出或带方块收回取决于所有粘液块、所有被推动的方块及所有被粘液块粘动的方块能否移动。

*例 1 分析如下的电路，说明拉杆拉下和拉回后电路的运行情况。*
![1-2-1](https://upload-images.jianshu.io/upload_images/19326757-6d25380099db2c46.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
*解：拉杆拉下，现在检查粘性活塞的推出条件，粘液块总计11个，常规型方块红石块1个，将被粘动，伸出的普通活塞属于阻挡型方块，粘液块不能粘动。方块总数为12，所有方块均能移动，故粘性活塞伸出。由于红石块被粘动，上方普通活塞收回。*
![1-2-2](https://upload-images.jianshu.io/upload_images/19326757-87533a7463803efd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
*拉杆拉回，检查粘性活塞带方块收回的条件，粘液块11个，红石块1个，普通活塞1个，总计13个，故粘性活塞无法带方块收回，其自行收回，其余方块不动。*
![1-2-3](https://upload-images.jianshu.io/upload_images/19326757-e73bc84dfb5886bd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#第三节 观察者
观察者拥有一个检测端和一个输出端，其中检测端可以检测检测面方块的方块变化。当观察者认可该方块变化时，以15强度强充能其指向，给予毗邻及指向的毗邻方块更新，脉冲长度为2gt。另外，放置观察者不会引起检测端输入。

虽然观察者的确可以对红石信号做出响应，但该响应是由于观察者检测到了方块变化，因而不认为观察者是输出元件，观察者是一个输入元件。

##观察者的输出特性

观察者是一个NTE元件，优先级为0，有2gt的启动延迟，换句话说，其会在检测端输入后的第二个NTE事件开始输出信号，信号持续2gt，并在第四个NTE事件停止输出信号。在检测端输入到停止输出这段时间内，观察者无视一切方块变化。观察者开始输出信号时，先给予毗邻更新信号，随后输出15强度红石信号；结束输出信号时，先结束红石信号的输出，随后给予毗邻更新信号。*（有待考察）*

观察者的一个重要特性是观察者可以被活塞推动，下面介绍观察者被活塞推动时的输出特性。

- 当观察者处于未触发态时（包括启动延迟），若观察者被活塞推动，其会将推动结束的BE事件或TE事件作为观察者的检测端输入。
- 当观察者处于触发态时，若观察者被活塞推动，其在结束推动后保持无信号输出。

在1.11引入观察者后，狼顾之鬼怪才（Joker_小狼）在《观察者性质总结》中率先研究了观察者的诸多性质，如下的两道例题便引自该文献。
*例 2 计算上下路延迟，判断时序比较器的输出情况。*

![1-3-1](https://upload-images.jianshu.io/upload_images/19326757-1651e73b64e33ed5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

*解：粘性活塞启动延迟1gt，观察者启动延迟2gt，因而在观察者未触发时，粘性活塞开始推动观察者。推动结束后，观察者于TE事件开始进入启动延迟，启动延迟2gt，故上路延迟5gt。下路延迟4gt，从而时序比较器激活锁定。
由于时序比较器在延迟相等时处于未激活锁定，这就证明了上路延迟一定大于4gt，从而说明观察者在被活塞推动结束后，启动延迟仍为2gt。*

![1-3-2](https://upload-images.jianshu.io/upload_images/19326757-1501599232007e73.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
*例 3 拉杆拉下后，TNT能否爆炸？为什么？*
![1-3-3](https://upload-images.jianshu.io/upload_images/19326757-59f34db51e9399a3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
*解： 中继器延迟2gt，活塞无启动延迟，故活塞将在观察者触发的第一个BE事件推动观察者，推出结束后无信号输出，TNT不会爆炸。*
![1-3-4](https://upload-images.jianshu.io/upload_images/19326757-51877648d919dfc8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

下面介绍“脸对脸”的观察者时钟，这种时钟构造简单，在观察者被引入后得到了许多玩家的喜爱。
![1-3-5](https://upload-images.jianshu.io/upload_images/19326757-1f00a6c8ca005051.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
两个观察者“脸对脸”，互相检测对方的变化，两个输出端给出的是互补的，周期为4gt，占空比为50%的高频时钟信号。一般配合粘性活塞来关闭或开启这种时钟。

下面应用红石更新延迟理论对该时钟进行分析。
拉杆拉下，粘性活塞有1gt启动延迟，随后粘性活塞于BE事件伸出，左边的观察者以此为检测端输入，启动延迟为2gt。其于拉杆拉下3gt，也就是第三个NTE事件开始输出信号。粘性活塞总延迟3gt，其于第三个NTE事件后的TE事件将右边的观察者推出到位，观察者以此作为检测端输入。5gt后，左边观察者结束输出，右面观察者开始输出，由于左边观察者于3gt NTE事件进入NTE列表，右边观察者于3gt TE事件进入NTE列表，左边观察者先于右边观察者更新，因此在5gt时，左边观察者先结束输出，右边观察者后开始输出。因此右边观察者由非触发态转变为触发态的方块变化可以被左边的观察者检测到，左边观察者重新进入启动延迟。两个观察者以此往复，可以得出周期为4gt，占空比为50%的结论。

![1-3-6 （草稿）](https://upload-images.jianshu.io/upload_images/19326757-7d069babe85f277e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

一个有意思的现象是，如果第二个观察者不是由活塞推入的，而是由玩家放置的，我们可以明显觉察到时钟变慢了，而且可以观察到两个观察者同时熄灭的瞬间，此时时钟周期不再是4gt，而是更慢的6gt。

![1-3-7](https://upload-images.jianshu.io/upload_images/19326757-bb4a163751666599.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

下面对玩家放置的观察者时钟进行分析。
玩家放置第二个观察者后，其本身不会响应，但第一个观察者会以此为检测端输入，2gt后，更新第二个观察者，同时自身开始输出信号。4gt后，第二个观察者开始输出信号，但第一个观察者结束输出晚于第二个观察者，故第一个观察者不会响应此次方块变化，而第二个观察者此时正处于激活态，不响应第一个观察者结束输出带来的方块变化。第一个观察者会在6gt后检测到第二个观察者结束输出的方块变化，并以此往复。
![1-3-8（草稿）](https://upload-images.jianshu.io/upload_images/19326757-f4f54bb1f0c9b6a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

##观察者的输入特性
观察者的输入特性指的是观察者会对怎样的方块变化产生响应，亦即观察者可以检测到哪些方块变化。在1.15版本(1.13+)中观察者的输入特性较为简单，可以被总结为：

>观察者检测一切方块名称和状态的变化。

在1.13的扁平化进程后，方块的英文ID被用来区分不同的方块，不同的方块一定有着不同的英文ID；方块的数据值用于区分同一方块的不同状态，如不同朝向的火把，或不同水量的炼药锅；方块的实体值用于记录方块的附加属性，如告示牌的文字，或箱子里的物品。那么，观察者检测是的英文ID的变化及方块数据值的变化。一切ID的变化或数据值的变化都能引起观察者的响应。打开F3界面可以轻易看出这一点。

从观察者的引入到特性逐渐稳定，期间经过了若干个版本，但最后的观察者所保留的特性是较为简明的，我们可以简单地理解为：

>观察者并不检测方块更新信号，观察者响应方块变化。

即使如此，我们仍有必要对一些特殊的示例具体分析。

![1-3-9](https://upload-images.jianshu.io/upload_images/19326757-5e0d2b929ef88b2a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

由于观察者检测的是方块变化，而非方块更新，而活塞推动方块会在开始推动时就将趋势位设置为36号方块，观察者就可以捕捉到这一变化。因此右侧的两个红石灯会同时亮起，而左侧的两个红石灯会有3gt的延迟差，这3gt相差在了前一个活塞的2gt推出延迟和后一个活塞的1gt启动延迟。

![1-3-10](https://upload-images.jianshu.io/upload_images/19326757-14d03d0d33d9b263.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
投掷器和发射器以及漏斗，在F3界面的triggered或enabled数据值往往不能反映其的真实状态，需要玩家查看其内容其才能被更新到正确的值，暂不明确这是否为一个bug。但观察者可以正常检测投掷器、发射器和漏斗工作状态。特别是投掷器的空投和漏斗的锁定解锁，这是非观察者所不能检测的。

![1-3-11](https://upload-images.jianshu.io/upload_images/19326757-d09ee3599c6957b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
栅栏，红石线，拌线等方块是依据自身的方块数据值来区分自己的连接情况的，因此观察者可以检测这些方块的连接状态是否发生改变，例如如上的装置就可以区分一个方块能否与栅栏相连接，而如下的示例中，无论破坏哪一个红石线，观察者都会响应。
![1-3-12](https://upload-images.jianshu.io/upload_images/19326757-3a8e2f8d19d770be.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![1-3-13](https://upload-images.jianshu.io/upload_images/19326757-1d90541b9c9eee18.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
酿造台的数据值仅用于说明酿造台当前的瓶子数量及位置，因此观察者也只能检测这些。
![1-3-14](https://upload-images.jianshu.io/upload_images/19326757-670ca923ce77c45f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
在1.13的扁平化进程后，树叶使用1-7的distance数据值用于标明其与最近原木的距离，这个值最大是7。同理，观察者可以检测到树叶distance数据值的变化，这一特性最早由2No2Name于2018年7月23日发现。关于观察者检测树叶，下一节会做更多详细的描述。
![1-3-15](https://upload-images.jianshu.io/upload_images/19326757-ad054995d6869dc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
可含水方块拥有waterlogged数据值，水流拥有level数据值，观察者可以检测这些方块或流体的数据值变化。

#第四节 铁轨电路、树叶电路及信号的传输
诚然，红石线可以传递红石信号，但可以传递信号的并不止红石线。动力铁轨或激活铁轨的点亮和熄灭可以传递方块更新信号，而BUD和观察者可以响应铁轨的变化，因而铁轨可以传递方块更新信号。树叶使用distance数据值记录数据，而观察者可以响应distance数据值的变化，因此树叶可以传递方块变化，这意味着如果恰当地利用这二者，其可以实现与红石信号的互化和传递红石信号的功能。

##铁轨电路

![1-4-1](https://upload-images.jianshu.io/upload_images/19326757-b0c04a4c590436fa.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

红石线的信号可以传递15格，铁轨信号只能传递9格。这意味着一个信号源最多可以点亮位于同一条线路上的17个铁轨，并且，铁轨和红石线一样，都是瞬时响应输入的变化。但与红石线有着极大不同的是：铁轨并不存在信号强度，其并不使用信号强度作为信号传递的依据。

铁轨会在自身收到方块更新信号时，确认自己是否应处在正确的状态，并只有在需要改变状态时才会产生方块更新信号，这也就造就了如下看似奇怪的例子：

![1-4-2](https://upload-images.jianshu.io/upload_images/19326757-4d6a298edf4f7211.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
如图，拉杆附着于第九个铁轨下的方块，拉下拉杆后，第九个拉杆已被激活，判断其本身不需要变更状态，也就不会更新到第十个铁轨，这使得第十个铁轨保持未激活的状态，从而陷入BUD态。
![1-4-3](https://upload-images.jianshu.io/upload_images/19326757-6fd290a6b80a3790.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
制作亮BUD态的铁轨也是简单的，如下的电路在按钮按下后，最右的两个铁轨会陷入BUD态。
![1-4-4](https://upload-images.jianshu.io/upload_images/19326757-daed1eaa0a9a5135.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![1-4-5](https://upload-images.jianshu.io/upload_images/19326757-e9880b17f63f68b5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

这一BUD最早由Defanive发现，发现时间不晚于2012年9月，限于在当时的版本中还未加入激活铁轨，这一类型的BUD被称为动力铁轨BUD。

基于此，Defanive制作了可以无限拓展的自复位动力铁轨BUD，其将活塞BUD的检测范围从活塞本身拓展到了几乎一整串铁轨。以下该自复位BUD的一个简单模型：
![1-4-6](https://upload-images.jianshu.io/upload_images/19326757-59347a8573ee8926.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

在本例中，白色混凝土上的铁轨都处于BUD态，蓝色混凝土上的铁轨常亮，最右侧的活塞BUD起到复位和图1-4-4中按钮——也就是脉冲发生器的作用。

![1-4-7](https://upload-images.jianshu.io/upload_images/19326757-158d93c48757d1bb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

铁轨在某些场合也可配合观察者一起使用，传输信号，特别地，其也可以与红石线并排但又互不干扰地传递信号。

![1-4-8](https://upload-images.jianshu.io/upload_images/19326757-29b20350979f7ada.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



#树叶电路

树叶依赖NTE事件改变自己的distance数据值，在这里，distance数据值充当了信号强度的功能，因而树叶不像铁轨那样容易制作出BUD。改变distance数据值的常用方法是通过活塞移动毗邻的原木，延迟是1gt。

![1-4-9](https://upload-images.jianshu.io/upload_images/19326757-a5233eec04e02c3a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

树叶distance数据值必须在毗邻的树叶间传递，对角线和断开的树叶均不能传递distance数据值。并且，树叶distance数据值只会被更新为毗邻树叶最小distance数据值加一，因而移除原木后树叶distance数据值的增加和移除信号源后红石线信号强度的衰减有着诸多类似之处。

![1-4-10](https://upload-images.jianshu.io/upload_images/19326757-04a3c33cab5af33b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

如图是一个树叶时钟，周期为5gt，占空比40%的时钟。一般的时钟周期都为偶数，这是时钟中较为特殊的类型。

观察者检测到树叶的变化，进而激活，启动延迟2gt，输出2pt NTE-NTE短脉冲，活塞无启动延迟，2pt顺推，原木于BE到位，树叶于1gt后更新自己的distance数据值，总计5gt。5gt后，观察者再次检测到树叶的变化，激活，启动延迟2gt，输出2gt短脉冲，活塞顺推并开始收回，原木于BE变为36号方块，同理，树叶仍为1gt后更新自己的distance值。这是一个周期为5gt的时钟。

若想延长时钟的周期，可以增加观察者的个数，如下图就是一个周期为7gt的时钟。
![1-4-11](https://upload-images.jianshu.io/upload_images/19326757-759ebe932cfb50ba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

*例 3 简述拉下拉杆后，装置的动作*

![1-4-12](https://upload-images.jianshu.io/upload_images/19326757-63a2753b74567b11.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

*活塞启动延迟1gt，1gt后原木被变为36号方块，树叶失去原木，开始增加distance数据值。
2gt，右下树叶更新自己的状态，由于左下和右上的树叶distance值为2，右下树叶设置自己的distance数据值为3，更新左下和右上的树叶。3gt，左下和右上的树叶将自己的distance数据值为4，更新左上和右下的树叶。
此时，树叶的状态为*
>*3 4
4 3*

*由于右上的树叶发生了变化，右观察者进入启动延迟。就在同一gt，活塞推出完成，原木位于左侧。
4gt，左上和右下树叶被更新为5，同时原木使得左下树叶被更新为1，左观察者进入启动延迟。
此时，树叶的状态为*
>*5 4
1 5*

*5gt，树叶状态为*
>*2 6
1 2*

*且右观察者开始激活，活塞进入开始推出。
6gt，树叶全部更新完成，状态为*
>*2 3
1 2*

*同时，左观察者开始激活。两观察者的延迟差为1gt，这意味着两观察者会将信号合并为3gt的脉冲，上方活塞得以在5-7gt正常推出。8gt，左熄灭，上方活塞在8-10gt正常收回。
试请读者自行分析拉杆拉回时装置的动作和树叶于各游戏刻的状态。*

![1-4-13](https://upload-images.jianshu.io/upload_images/19326757-6c6a8d8fd4c352e8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 实际应用：灭灯游戏

灭灯游戏是一种益智游戏，当一个灯的按钮被按下，待电路稳定后，其本身和相邻的四个灯的状态会翻转，即从亮变为灭，从灭变为亮。如下图就是最中央的按钮被按下后的情况。

![1-4-14](https://upload-images.jianshu.io/upload_images/19326757-40dcbceefe4c5c0f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

游戏的胜利条件在于将给定初始条件的灯形经过一系列的翻转，使之全灭。

下面我们将介绍PeterjiangTW基于树叶电路所制作的灭灯游戏。

![1-4-15](https://upload-images.jianshu.io/upload_images/19326757-7ce531c25d83da29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

为了用红石电路实现这一游戏，我们首先来分析电路的实现方式。

最首先注意到的是，虽然按钮被放置在红石灯上，但红石灯的亮灭并不直接受按钮的控制，按钮只提供脉冲，红石灯的亮灭则要由一个T触发器控制。如下图就是一个对电路的实现。

![1-4-16](https://upload-images.jianshu.io/upload_images/19326757-e492a67f77607654.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

但是电路的难点在于如何让四周的四个红石灯也发生变化，这意味着每个红石灯单元的信号必须传递到周围四个单元去，并且只能传递到这四个单元，每个单元也只能接收周围四个单元的信号。

![1-4-17](https://upload-images.jianshu.io/upload_images/19326757-5db079f43d951489.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

PeterjiangTW的设计巧妙地利用了树叶来传递信号，由于树叶的distance数据值最大为7，这就限制了信号只能被传递到周围的四格。上图电路只包含了核心的翻转电路，因为本节的内容旨在学习树叶电路的应用形式，复位电路的设计请读者作为附加内容自行学习。

在灭灯游戏电路中，每一个红石灯都对应一个电路单元，树叶将这些单元全部连起来，但限于树叶的传输能力有限，其只能将信号传输到四周的四个单元，按钮按下时只需要基于树叶系统一个信号即可。下面我们进行单个单元的设计。

![1-4-18](https://upload-images.jianshu.io/upload_images/19326757-9ca855a2ad6ba35e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![1-4-19](https://upload-images.jianshu.io/upload_images/19326757-dd3b9d340a6f9924.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

按钮按下后会自行弹回，活塞也会相应伸出并收回，我们要求这两个边沿只会产生一次翻转，如上图的电路可以解决这一问题。观察者检测树叶变化，按钮两个边沿会转变为观察者的两个脉冲，右下的粘性活塞会顺推观察者并收回，这意味着上方的粘性活塞只会伸出收回一次。

![1-4-20](https://upload-images.jianshu.io/upload_images/19326757-af3f057f5ac178b3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

应用比较器可以隔着一个实体方块检测其后容器的容量的性质，通过图1-4-20提到的粘性活塞控制这一个实体方块，可以将T触发器的输出接到红石灯上。

余下内容的电路请读者自行学习和实践。

##垂直信号传输
我们曾在《基础红石原理》中介绍过一种竖直信号的传递——半砖上传，但是其只能将信号向上传输。现在，我们对于垂直信号传递有了更加丰富的实现方式，而在这一点中，粘液块和观察者功不可没。

![1-4-21](https://upload-images.jianshu.io/upload_images/19326757-4acacce1aac78845.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

下面介绍一种不太常用的信号传输方式——气泡柱。

气泡柱于1.13被引入游戏，其会在灵魂沙或岩浆块上的水源产生。气泡柱是一个方块，因此气泡柱和水源之间的转换可以由观察者检测到。

![1-4-22](https://upload-images.jianshu.io/upload_images/19326757-069819af6eecbebc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

通过活塞移动灵魂沙，可以在竖直方向上产生或消除气泡柱，从而在竖直方向上传递信号。气泡柱的产生和消除依赖流体的NTE事件，无论气泡柱的长度，产生气泡柱需要20gt，消除气泡柱是瞬时的。

![1-4-23](https://upload-images.jianshu.io/upload_images/19326757-74e8ac2108d5126e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



















